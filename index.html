<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Plataforma de Seguimiento de Productos</title>
		<link rel="stylesheet" href="style.css" />
		<script src="https://cdn.tailwindcss.com"></script>
		<script>
			tailwind.config = {
				theme: {
					extend: {
						colors: {
							brand: '#6D28D9'
						}
					}
				}
			}
		</script>
		<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
	</head>
	<body class="bg-gray-50 text-gray-800">
		<div class="min-h-screen flex">
			<aside class="hidden md:block w-64 bg-white border-r shadow-sm">
				<div class="p-6">
					<div class="flex items-center gap-3">
						<div class="w-10 h-10 rounded-md bg-gradient-to-br from-brand to-indigo-500 flex items-center justify-center text-white font-bold">PF</div>
						<div>
							<h1 class="font-semibold">Plataforma Productos</h1>
							<p class="text-xs text-gray-500">Seguimiento & Inventario</p>
						</div>
					</div>
				</div>
				<nav class="px-4">
					<ul class="space-y-2">
						<li><a class="block px-3 py-2 rounded-md hover:bg-gray-100" href="#">Dashboard</a></li>
						<li><a class="block px-3 py-2 rounded-md hover:bg-gray-100" href="#table">Listado</a></li>
						<li><a class="block px-3 py-2 rounded-md hover:bg-gray-100" href="#charts">Gráficos</a></li>
					</ul>
				</nav>
			</aside>

			<main class="flex-1 p-6">
				<header class="flex items-center justify-between mb-6">
					<div>
						<h2 class="text-2xl font-semibold">Dashboard</h2>
						<p class="text-sm text-gray-500">Resumen rápido de productos importados (Paraguay)</p>
					</div>
					<div class="flex items-center gap-3">
						<input id="search" placeholder="Buscar marca, descripción, color..." class="px-3 py-2 border rounded-md" />
						<input id="fileInput" type="file" accept=".csv" class="px-3 py-2 border rounded-md text-sm" />
						<button id="reload" class="px-4 py-2 bg-brand text-white rounded-md">Actualizar</button>
					</div>
				</header>

				<section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
					<div class="bg-white p-4 rounded-lg shadow-sm">
						<p class="text-sm text-gray-500">SKUs</p>
						<p id="card-skus" class="text-2xl font-bold">—</p>
					</div>
					<div class="bg-white p-4 rounded-lg shadow-sm">
						<p class="text-sm text-gray-500">Unidades Totales</p>
						<p id="card-units" class="text-2xl font-bold">—</p>
					</div>
					<div class="bg-white p-4 rounded-lg shadow-sm">
						<p class="text-sm text-gray-500">Importadas</p>
						<p id="card-imported" class="text-2xl font-bold text-red-500">—</p>
					</div>
				</section>

				<!-- Arribos próximos -->
				<section id="arrivals" class="bg-white p-4 rounded-lg shadow-sm mb-6">
					<h3 class="font-medium mb-4">Arribos próximos</h3>
					<div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
						<div class="col-span-2">
							<h4 class="text-sm text-gray-500">Top 5 próximos</h4>
							<div id="topArrivalsWrap" class="max-h-top overflow-hidden relative transition-all mt-3">
								<ul id="topArrivals" class="space-y-3"></ul>
								<div id="gradientTop" class="absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white to-transparent"></div>
							</div>
							<button id="toggleTop" class="mt-3 px-3 py-2 bg-brand text-white rounded-md">Mostrar más</button>
						</div>
						<div>
							<h4 class="text-sm text-gray-500">Resto de arribos</h4>
							<div id="restArrivalsWrap" class="max-h-48 overflow-hidden relative transition-all">
								<ul id="restArrivals" class="space-y-2 mt-3"></ul>
								<div id="gradientMask" class="absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white to-transparent"></div>
							</div>
							<button id="toggleRest" class="mt-3 px-3 py-2 bg-brand text-white rounded-md">Mostrar más</button>
						</div>
					</div>
				</section>

				<section id="charts" class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
					<div class="bg-white p-4 rounded-lg shadow-sm col-span-1 lg:col-span-1">
						<h3 class="font-medium mb-2">Importadas vs Locales</h3>
						<canvas id="originChart" height="200"></canvas>
					</div>
					<div class="bg-white p-4 rounded-lg shadow-sm col-span-2">
						<h3 class="font-medium mb-2">Top Categorías por Unidades</h3>
						<canvas id="categoryChart" height="200"></canvas>
					</div>
				</section>

				<section id="table" class="bg-white p-4 rounded-lg shadow-sm">
					<h3 class="font-medium mb-4">Listado de Productos</h3>
					<div class="overflow-x-auto">
						<table class="min-w-full text-left text-sm" id="productsTable">
							<thead class="text-xs text-gray-500 uppercase">
								<tr>
									<th class="px-3 py-2">Marca</th>
									<th class="px-3 py-2">Descripción</th>
									<th class="px-3 py-2">Color</th>
									<th class="px-3 py-2">Cantidad</th>
									<th class="px-3 py-2">Origen</th>
									<th class="px-3 py-2">Proveedor</th>
									<th class="px-3 py-2">PVP B2C</th>
									<th class="px-3 py-2">Arribo</th>
								</tr>
							</thead>
							<tbody id="tableBody" class="divide-y"></tbody>
						</table>
					</div>
				</section>
			</main>
		</div>

		<script src="main.js"></script>
	</body>
</html>
